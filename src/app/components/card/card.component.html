<section class="flex max-w-md flex-col gap-1 rounded-md bg-neutral-100 p-4">
  <div class="flex justify-between">
    <button
      (click)="toggleLockState()"
      class="flex h-7 items-center justify-center gap-1 rounded-md bg-neutral-200 px-2 transition-all duration-150 hover:bg-neutral-300"
    >
      <img
        src="/icons/{{ is_editable ? 'unlock' : 'lock' }}.svg"
        alt="lock icon"
        width="16"
        height="16"
      />
      {{ is_editable ? "Unlock" : "" }}
    </button>
    <button
      (click)="deleteCard()"
      class="flex h-7 items-center justify-center gap-1 rounded-md bg-neutral-200 px-2 transition-all duration-150 hover:bg-neutral-300"
    >
      <img src="/icons/delete.svg" alt="delete icon" width="16" height="16" />
    </button>
  </div>

  <h3
    id="title-{{ id }}"
    (blur)="saveCard()"
    [attr.contenteditable]="!is_editable"
    class="text-balance border-b-2 border-neutral-500 text-xl font-semibold text-neutral-800 selection:bg-neutral-700 selection:text-neutral-100 focus:outline-none"
  >
    {{ title }}
  </h3>
  <p
    id="description-{{ id }}"
    (blur)="saveCard()"
    [attr.contenteditable]="!is_editable"
    class="text-pretty text-neutral-800 selection:bg-neutral-700 selection:text-neutral-100 focus:outline-none"
  >
    {{ description }}
  </p>
  <div class="flex justify-between">
    <div class="flex gap-2">
      <label for="priority" class="font-semibold">Priority:</label>
      <select
        id="priority-{{ id }}"
        name="priority"
        id="priority"
        [disabled]="is_editable"
        class="rounded-sm bg-transparent"
        (change)="saveCard()"
        [value]="priority"
      >
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>
    </div>
    <div class="flex">
      <label for="ends" class="font-semibold">Ends:</label>
      <input
        id="ends-at-{{ id }}"
        type="date"
        class="bg-transparent px-2"
        (change)="saveCard()"
        [disabled]="is_editable"
        [value]="ends_at"
      />
    </div>
  </div>
</section>
